# üéâ –§–ê–ó–ê 1 –ó–ê–í–ï–†–®–ï–ù–ê: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–î–∞—Ç–∞:** 2025-12-18  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

## üìã –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò

### ‚úÖ –®–ê–ì 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker Compose (30 –º–∏–Ω—É—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**
- –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω —Å–µ—Ä–≤–∏—Å `app` –≤ `docker-compose.yml`
- –î–æ–±–∞–≤–ª–µ–Ω RabbitMQ —Å Management UI
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã healthchecks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
  - `app`: –ø—Ä–æ–≤–µ—Ä–∫–∞ `/utility/health`
  - `tarantool`: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
  - `rabbitmq`: `rabbitmq-diagnostics ping`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã volumes –¥–ª—è –ª–æ–≥–æ–≤ –∏ –æ—Ç—á–µ—Ç–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω `.env.example` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–ª—è RabbitMQ

**–§–∞–π–ª—ã:**
- ‚úÖ `docker-compose.yml` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω
- ‚úÖ `.env.example` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ RabbitMQ

**RabbitMQ –¥–æ—Å—Ç—É–ø:**
- AMQP: `localhost:5672`
- Management UI: `http://localhost:15672`
- Credentials: `admin / admin123`

---

### ‚úÖ –®–ê–ì 2: Streamlit Sidebar + –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù (45 –º–∏–Ω—É—Ç)

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å Streamlit –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
2. –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç, –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Å—É–º–º—É

**–†–µ—à–µ–Ω–∏–µ:**

#### 2.1 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Sidebar
- –û–±–Ω–æ–≤–ª–µ–Ω CSS –≤ `app/frontend/app.py`:
  - –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ `display: block !important` –¥–ª—è sidebar
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è
  - –£–ª—É—á—à–µ–Ω —Å—Ç–∏–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

#### 2.2 –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù —Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º–æ–π
- –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `validate_inn()` –≤ `app/utility/helpers.py`:
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –¥–ª—è –ò–ù–ù —é—Ä.–ª–∏—Ü (10 —Ü–∏—Ñ—Ä)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–≤—É—Ö –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ü–∏—Ñ—Ä –¥–ª—è –ò–ù–ù –ò–ü (12 —Ü–∏—Ñ—Ä)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `format_inn()` –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–¢–µ—Å—Ç—ã:**
```
‚úì –ì–∞–∑–ø—Ä–æ–º (7736050003) - –≤–∞–ª–∏–¥–Ω—ã–π
‚úì –°–±–µ—Ä–±–∞–Ω–∫ (7707083893) - –≤–∞–ª–∏–¥–Ω—ã–π
‚úì –ò–ü (500100732259) - –≤–∞–ª–∏–¥–Ω—ã–π
‚úì –ù–µ–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
‚úì –ù–µ–≤–µ—Ä–Ω–∞—è –¥–ª–∏–Ω–∞ - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
‚úì –ë—É–∫–≤—ã –≤ –ò–ù–ù - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
‚úì –ü—É—Å—Ç–æ–π –ò–ù–ù - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ

–†–µ–∑—É–ª—å—Ç–∞—Ç: 7/7 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ ‚úÖ
```

**–§–∞–π–ª—ã:**
- ‚úÖ `app/utility/helpers.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã `validate_inn()` –∏ `format_inn()`
- ‚úÖ `app/frontend/app.py` - –æ–±–Ω–æ–≤–ª–µ–Ω CSS –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

---

### ‚úÖ –®–ê–ì 3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Race Condition –≤ Singleton (60 –º–∏–Ω—É—Ç)

**–ü—Ä–æ–±–ª–µ–º–∞:** 
–í `AsyncHttpClient` –∏ `TarantoolClient` –≤–æ–∑–º–æ–∂–Ω–∞ race condition –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –≤—ã–∑–æ–≤–µ `get_instance()` –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ singleton.

**–†–µ—à–µ–Ω–∏–µ:**
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω thread-safe singleton pattern —Å double-checked locking:

1. **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä—è–º–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è:**
   ```python
   def __new__(cls):
       raise RuntimeError("–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ get_instance()")
   ```

2. **Double-checked locking:**
   ```python
   async def get_instance(cls):
       # –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
       if cls._instance is not None and cls._initialized:
           return cls._instance
       
       # –°–æ–∑–¥–∞–µ–º lock –µ—Å–ª–∏ –Ω–µ—Ç
       if cls._lock is None:
           cls._lock = asyncio.Lock()
       
       # –î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
       async with cls._lock:
           if cls._instance is None:
               instance = object.__new__(cls)
               instance.__init_once()
               await instance._initialize()
               
               cls._initialized = True
               cls._instance = instance
       
       return cls._instance
   ```

3. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ:**
   ```python
   async def close_global(cls):
       if cls._instance is not None:
           await cls._instance.aclose()
           async with cls._lock:
               cls._instance = None
               cls._initialized = False
   ```

**–¢–µ—Å—Ç—ã:**
```
–¢–µ—Å—Ç 1: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø (100 –∑–∞–¥–∞—á)
  - –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID: 1 ‚úÖ
  - –í—ã–∑–æ–≤–æ–≤ __init_once: 1 ‚úÖ

–¢–µ—Å—Ç 2: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø
  - –í—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã ‚úÖ

–¢–µ—Å—Ç 3: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä—è–º–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è
  - RuntimeError –ø—Ä–∏ –ø—Ä—è–º–æ–º –≤—ã–∑–æ–≤–µ ‚úÖ

–†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã ‚úÖ
```

**–§–∞–π–ª—ã:**
- ‚úÖ `app/services/http_client.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω singleton
- ‚úÖ `app/storage/tarantool.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω singleton

---

### ‚úÖ –®–ê–ì 4: Rate Limiting + –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (90 –º–∏–Ω—É—Ç)

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç DDoS –∞—Ç–∞–∫
2. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –≤—Å–µ–º—É –∫–æ–¥—É
3. –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –¥–æ—Ä–æ–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**

#### 4.1 –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `app/config/constants.py`

–°–æ–¥–µ—Ä–∂–∏—Ç:
- Workflow –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (MAX_CONCURRENT_SEARCHES, SEARCH_TIMEOUT)
- HTTP Client –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (MAX_RETRIES, CIRCUIT_BREAKER –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- Cache & Storage –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (TTL –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- Pagination –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (MAX_PAGES_LIMIT, DEFAULT_PAGE_SIZE)
- Content Limits (MAX_REPORT_SIZE, MAX_LOG_MESSAGE_LENGTH)
- **Rate Limiting –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:**
  - RATE_LIMIT_GLOBAL_PER_MINUTE = 100
  - RATE_LIMIT_GLOBAL_PER_HOUR = 2000
  - RATE_LIMIT_ANALYZE_CLIENT_PER_MINUTE = 5
  - RATE_LIMIT_PROMPT_PER_MINUTE = 10
  - RATE_LIMIT_SEARCH_PER_MINUTE = 30
- Timeouts –¥–ª—è –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- Risk Assessment (RiskLevel, RiskThresholds)
- Tarantool Spaces (CACHE, REPORTS, THREADS)
- Feature Flags

#### 4.2 –î–æ–±–∞–≤–ª–µ–Ω Rate Limiting

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```toml
slowapi = "^0.1.9"
```

**–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã:**
- 100 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É –Ω–∞ IP
- 2000 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å –Ω–∞ IP

**–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:**

| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –õ–∏–º–∏—Ç | –ü—Ä–∏—á–∏–Ω–∞ |
|----------|-------|---------|
| `/agent/analyze-client` | 5/–º–∏–Ω | –î–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è (Perplexity + Tavily + DaData + Casebook + InfoSphere) |
| `/agent/prompt` | 10/–º–∏–Ω | LLM –∑–∞–ø—Ä–æ—Å—ã |
| `/agent/thread_history` | 30/–º–∏–Ω | –ß—Ç–µ–Ω–∏–µ –∏–∑ –ë–î |
| `/agent/threads` | 30/–º–∏–Ω | –°–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ |

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞:**
- HTTP 429 Too Many Requests
- Header `Retry-After` —Å –≤—Ä–µ–º–µ–Ω–µ–º –æ–∂–∏–¥–∞–Ω–∏—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è

**–§–∞–π–ª—ã:**
- ‚úÖ `app/config/constants.py` - –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- ‚úÖ `app/config/__init__.py` - —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- ‚úÖ `app/main.py` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ global limiter
- ‚úÖ `app/api/routes/agent.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ª–∏–º–∏—Ç—ã –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
- ‚úÖ `pyproject.toml` - –¥–æ–±–∞–≤–ª–µ–Ω slowapi

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: 11
- `docker-compose.yml`
- `.env.example`
- `Dockerfile` (–ø—Ä–æ–≤–µ—Ä–µ–Ω, curl —É–∂–µ –±—ã–ª)
- `app/main.py`
- `app/frontend/app.py`
- `app/utility/helpers.py`
- `app/services/http_client.py`
- `app/storage/tarantool.py`
- `app/api/routes/agent.py`
- `app/config/constants.py` (–Ω–æ–≤—ã–π)
- `app/config/__init__.py` (–Ω–æ–≤—ã–π)
- `pyproject.toml`

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: 2
- `app/config/constants.py` (342 —Å—Ç—Ä–æ–∫–∏)
- `app/config/__init__.py` (96 —Å—Ç—Ä–æ–∫)

### –ü—Ä–æ–π–¥–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã: 14/14 ‚úÖ
- –ò–ù–ù –≤–∞–ª–∏–¥–∞—Ü–∏—è: 7/7
- Singleton race condition: 3/3
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python: 4/4

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS —á–µ—Ä–µ–∑ rate limiting
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä—è–º–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è singleton —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù —Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º–æ–π –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–∏—à–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å—ã

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ race condition –≤ singleton pattern
- ‚úÖ –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ Docker Compose —Å healthchecks –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫

### UX
- ‚úÖ Streamlit sidebar —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ò–ù–ù
- ‚úÖ HTTP 429 —Å Retry-After –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–§–ê–ó–ê 2)

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
1. ‚úÖ ~~Docker Compose –∏—Å–ø—Ä–∞–≤–ª–µ–Ω~~
2. ‚úÖ ~~Streamlit sidebar –∏—Å–ø—Ä–∞–≤–ª–µ–Ω~~
3. ‚úÖ ~~–í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù~~
4. ‚úÖ ~~Race condition –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞~~
5. ‚úÖ ~~Rate limiting –¥–æ–±–∞–≤–ª–µ–Ω~~
6. ‚úÖ ~~–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã~~

### –°–ª–µ–¥—É—é—â–∞—è —Ñ–∞–∑–∞ (–ù–µ–¥–µ–ª–∏ 2-3)
7. ‚è≥ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Vault/Env/YAML loader)
8. ‚è≥ Tarantool: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ spaces (cache, reports, threads)
9. ‚è≥ Repository pattern –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Tarantool
10. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è workflow –∞–≥–µ–Ω—Ç–∞
11. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
12. ‚è≥ RabbitMQ + FastStream –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---

## üìù –ó–ê–ú–ï–¢–ö–ò

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è
- **Singleton pattern:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `object.__new__()` –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ `__new__`
- **Rate limiting:** SlowAPI —Å in-memory storage (–º–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Redis)
- **Constants:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `Final` –¥–ª—è immutable –∑–Ω–∞—á–µ–Ω–∏–π

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å rate limiting storage –Ω–∞ Redis –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å whitelist IP –∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å admin endpoint –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ rate limiting (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –§–∞–∑—ã 1:** ~3.5 —á–∞—Å–∞  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é  
**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –§–∞–∑–∞ 2 - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
