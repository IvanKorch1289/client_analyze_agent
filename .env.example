# =============================================================================
# Система анализа контрагентов - Конфигурация
# =============================================================================

# -----------------------------------------------------------------------------
# Аутентификация и безопасность
# -----------------------------------------------------------------------------

# Admin token для доступа к административным функциям UI и API
# Используется в заголовке X-Auth-Token для защищённых эндпоинтов
ADMIN_TOKEN=your_secure_admin_token_here

# -----------------------------------------------------------------------------
# LLM Provider (OpenRouter)
# -----------------------------------------------------------------------------

# API ключ OpenRouter для доступа к LLM (Claude 3.5 Sonnet по умолчанию)
# Получить можно на https://openrouter.ai/
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Модель для использования (опционально, по умолчанию: anthropic/claude-3.5-sonnet)
# OPENROUTER_MODEL=anthropic/claude-3.5-sonnet

# -----------------------------------------------------------------------------
# Поисковые сервисы
# -----------------------------------------------------------------------------

# Perplexity AI - веб-поиск с AI-ответами
# Получить можно на https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=your_perplexity_api_key_here

# Tavily - расширенный веб-поиск
# Получить можно на https://tavily.com/
TAVILY_API_KEY=your_tavily_api_key_here

# -----------------------------------------------------------------------------
# Источники данных по ИНН
# -----------------------------------------------------------------------------

# DaData - реестр российских компаний
# Получить можно на https://dadata.ru/
DADATA_API_KEY=your_dadata_api_key_here
DADATA_SECRET_KEY=your_dadata_secret_key_here

# InfoSphere - дополнительная аналитика
INFOSPHERE_LOGIN=your_infosphere_login
INFOSPHERE_PASSWORD=your_infosphere_password

# Casebook - судебные дела
CASEBOOK_API_KEY=your_casebook_api_key_here

# -----------------------------------------------------------------------------
# База данных и кэш
# -----------------------------------------------------------------------------

# Tarantool - кэширование с TTL (опционально, есть in-memory fallback)
TARANTOOL_HOST=localhost
TARANTOOL_PORT=3302
TARANTOOL_USER=guest
TARANTOOL_PASSWORD=

# TTL для кэша в секундах (по умолчанию: 2592000 = 30 дней)
TARANTOOL_DEFAULT_TTL=2592000

# -----------------------------------------------------------------------------
# Email уведомления (опционально)
# -----------------------------------------------------------------------------

# SMTP настройки для отправки email уведомлений
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_smtp_password
SMTP_FROM=noreply@example.com
SMTP_USE_TLS=true

# -----------------------------------------------------------------------------
# API сервер
# -----------------------------------------------------------------------------

# Хост и порт для FastAPI сервера
API_HOST=0.0.0.0
API_PORT=8000

# Базовый URL API для фронтенда (используется Streamlit)
API_BASE_URL=http://localhost:8000/api/v1

# Таймаут для API запросов (секунды)
API_TIMEOUT_SECONDS=120

# -----------------------------------------------------------------------------
# Streamlit UI
# -----------------------------------------------------------------------------

# Порт для Streamlit приложения
STREAMLIT_PORT=5000

# -----------------------------------------------------------------------------
# Логирование
# -----------------------------------------------------------------------------

# Уровень логирования (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Путь к директории с логами
LOG_DIR=./logs

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

# Лимиты запросов в минуту
RATE_LIMIT_ANALYZE_CLIENT_PER_MINUTE=10
RATE_LIMIT_SEARCH_PER_MINUTE=30
RATE_LIMIT_ADMIN_PER_MINUTE=60
RATE_LIMIT_GENERAL_PER_MINUTE=100

# -----------------------------------------------------------------------------
# Circuit Breaker
# -----------------------------------------------------------------------------

# Настройки circuit breaker для защиты от каскадных сбоев
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=RequestException

# -----------------------------------------------------------------------------
# Разработка и отладка
# -----------------------------------------------------------------------------

# Режим отладки (true/false)
DEBUG=false

# Reload при изменении кода (только для разработки)
RELOAD=false

# CORS origins (разделённые запятыми)
CORS_ORIGINS=http://localhost:5000,http://localhost:3000

# -----------------------------------------------------------------------------
# Дополнительные настройки
# -----------------------------------------------------------------------------

# Директория для сохранения PDF отчётов
REPORTS_DIR=./reports

# Максимальный размер запроса (байты)
MAX_REQUEST_SIZE=10485760

# Таймауты для внешних сервисов (секунды)
HTTP_CLIENT_TIMEOUT=30
PERPLEXITY_TIMEOUT=60
TAVILY_TIMEOUT=60
OPENROUTER_TIMEOUT=120
